#:kivy 1.11.1

<ConnectSocketPopup>:
    title: 'Conexão Socket'
    # size_hint_y: 0.3
    # size_hint_x: 0.2
    size_hint: None, None
    size: (600, 375)
    BoxLayout:
        id: layout
        orientation:'vertical'
        GridLayout:
            # size: int(self.parent.width),  int(self.parent.height)*0.8
            size_hint: (1, .8)
            cols: 2
            rows: 6
            Label:
                text: "IP"
                font_size: 14
            TextInput:
                id: txt_ip
                text: '127.0.0.1'
                font_size: 14
                halign: 'center'
                valign: 'middle'
            Label:
                text: "Port"
                font_size: 14
            TextInput:
                id: txt_port
                text: '502'
                font_size: 14
                halign: 'center'
                valign: 'middle'
            Label:
                text: "Login"
                font_size: 14
            TextInput:
                id: txt_login
                text: 'login'
                font_size: 14
                halign: 'center'
                valign: 'middle'
            Label:
                text: "Senha"
                font_size: 14
            TextInput:
                id: txt_senha
                text: 'senha'
                font_size: 14
                halign: 'center'
                valign: 'middle'
            Label:
                text: 'Missão'
                font_size: 14
            TextInput:
                id: txt_missao
                text: ''
                font_size: 14
                halign: 'center'
                valign: 'middle'
            Label:
                text: 'Apogeu'
                font_size: 14
            # TextInput:
            #     id: txt_apogeu
            #     text: ''
            #     font_size: 14
            #     halign: 'center'
            #     valign: 'middle'
            Spinner:
                id: txt_apogeu
                text: "selecione o apogeu"
                values: ['500', '1000', '3000', '5000']

        BoxLayout:
            orientation:'horizontal'
            size_hint: (1, .2)
            Button:
                size_hint_y: None
                height: 40
                text: 'Conectar'
                on_release:
                    app.root._login = txt_login.text
                    app.root._senha = txt_senha.text
                    app.root._serverIP = txt_ip.text
                    app.root._missao = txt_missao.text
                    app.root._port = txt_port.text
                    app.root._apogeu = txt_apogeu.text
                    app.root.startDataRead(txt_ip.text, txt_port.text)
            Button:
                size_hint_y: None
                height: 40
                text:'Fechar'
                on_release: root.dismiss()


<ConnectSocketPopupError>:
    title: ""
    separator_height: 0
    size_hint: None, None
    size: (200, 100)
    BoxLayout:
        orientation: 'vertical'
        Button:
            id: erroConnect
            background_color: 0, 0, 0, 0
            size_hint_y: None
            height: 40
            text: "Falha ao conectar!"
            font_size: 14
            halign: "center"
            valign: "middle"
        Button:
            size_hint_y: None
            height: 40
            text: "Fechar"
            halign: "center"
            valign: "middle"
            on_release: root.dismiss()



<ConfiguraGraficosPopup>:
    title: 'Configuração dos Gráficos'
    size_hint_y: 0.3
    size_hint_x: 0.2
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.7
            size_hint_x: 1
            LabeledChedBoxDataGraph:
                id: mp20
                on_kv_post:
                    self.ids.label.text = '20'
                    self.ids.checkbox.group = 'cb_group'
            LabeledChedBoxDataGraph:
                id: mp50
                on_kv_post:
                    self.ids.label.text = '50'
                    self.ids.checkbox.group = 'cb_group'
            LabeledChedBoxDataGraph:
                id: mp20
                on_kv_post:
                    self.ids.label.text = '100'
                    self.ids.checkbox.group = 'cb_group'
        Button:
            text: 'Fechar'
            size_hint: (0.2, 1)
            on_relase: root.dismiss()


<LabeledChedBoxDataGraph>:
    orientation: 'horizontal'
    size_hint: (0.1, 1)
    CheckBox:
        id: checkbox
        on_active: app.root._graphAltitude.ids.graphAltitude.setMaxPoints(int(label.text), 0) if app.root is not None else None
    Label:
        id: label



